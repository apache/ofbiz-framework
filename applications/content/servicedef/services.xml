<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright 2001-2006 The Apache Software Foundation

Licensed under the Apache License, Version 2.0 (the "License"); you may not
use this file except in compliance with the License. You may obtain a copy of
the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.
-->

<services xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
        xsi:noNamespaceSchemaLocation="http://www.ofbiz.org/dtds/services.xsd">
    <description>Content Component Services</description>
    <vendor>OFBiz</vendor>

    <!-- interfaces -->
    <service name="uploadFileInterface" engine="interface">
        <description>Contains necessary paramters for all file upload requests via service event handler</description>
        <attribute name="uploadedFile" type="org.ofbiz.entity.util.ByteWrapper" mode="IN" optional="true"/>
        <attribute name="_uploadedFile_fileName" type="String" mode="IN" optional="true"/>
        <attribute name="_uploadedFile_contentType" type="String" mode="IN" optional="false"/>
    </service>

    <!-- WebSite Services -->
    <service name="createWebSite" default-entity-name="WebSite" engine="simple"
        location="org/ofbiz/content/website/WebSiteServices.xml" invoke="createWebSite" auth="true">
        <description>Create an WebSite</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <override name="siteName" optional="false"/>
    </service>
    <service name="updateWebSite" default-entity-name="WebSite" engine="simple"
        location="org/ofbiz/content/website/WebSiteServices.xml" invoke="updateWebSite" auth="true">
        <description>Update an WebSite</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>

    <!-- WebSiteRole services -->
    <service name="webSiteRoleInterface" engine="interface" location="" invoke="">
        <description>WebSite Role Interface</description>
        <auto-attributes entity-name="WebSiteRole" include="all" mode="IN" optional="false"/>
        <override name="thruDate" optional="true"/>
        <override name="sequenceNum" optional="true"/>
    </service>
    <service name="addWebSiteRole" engine="simple"
        location="org/ofbiz/content/website/WebSiteServices.xml" invoke="addWebSiteRole" auth="true">
        <description>Add WebSite Role</description>
        <implements service="webSiteRoleInterface"/>
        <override name="fromDate" optional="true"/>
    </service>
    <service name="updateWebSiteRole" engine="simple"
        location="org/ofbiz/content/website/WebSiteServices.xml" invoke="updateWebSiteRole" auth="true">
        <description>Add WebSite Role</description>
        <implements service="webSiteRoleInterface"/>
    </service>
    <service name="removeWebSiteRole" engine="simple"
        location="org/ofbiz/content/website/WebSiteServices.xml" invoke="removeWebSiteRole" auth="true">
        <description>Remove WebSite Role</description>
        <auto-attributes entity-name="WebSiteRole" include="pk" mode="IN" optional="false"/>
    </service>

    <!--Contentservices.-->
    <service name="getPublicForumMessage" engine="simple" default-entity-name="Content"
        location="org/ofbiz/content/content/ContentServices.xml" invoke="getPublicForumMessage" auth="false">
        <description>Get Content and resource information</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <attribute mode="OUT" name="resultData" optional="true" type="java.util.Map"/>
    </service>

    <service name="getContentAndDataResource" engine="simple" default-entity-name="Content"
        location="org/ofbiz/content/content/ContentServices.xml" invoke="getContentAndDataResource" auth="true">
        <description>Get Content and resource information</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <attribute mode="OUT" name="resultData" optional="true" type="java.util.Map"/>
    </service>
    
    <service name="getDataResource" engine="simple" default-entity-name="DataResource"
        location="org/ofbiz/content/content/ContentServices.xml" invoke="getDataResource" auth="true">
        <description>Get Content and resource information</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <attribute mode="OUT" name="resultData" optional="true" type="java.util.Map"/>
    </service>

    <!-- create content services -->
    <service name="createContent" default-entity-name="Content" engine="java"
        location="org.ofbiz.content.content.ContentServices" invoke="createContent" transaction-timeout="300" auth="true">
        <description>Create a Content</description>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="targetOperationString" optional="true" type="String"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeString" optional="true" type="String"/>
        <attribute mode="IN" name="contentPurposeTypeId" optional="true" type="String"/>
        <attribute mode="IN" name="userLogin" optional="true" type="GenericValue"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
        <attribute mode="IN" name="displayFailCond" optional="true" type="Boolean"/>
        <attribute mode="IN" name="partyId" optional="true" type="String"/>
        <attribute mode="IN" name="roleTypeId" optional="true" type="String"/>
        <attribute mode="INOUT" name="roleTypeList" optional="true" type="List"/>
        <attribute mode="INOUT" name="contentId" optional="true" type="String"/>
        <override name="contentTypeId" optional="false"/>
    </service>

    <service name="createTextContent" engine="route" transaction-timeout="300" auth="true">
        <description>Creates a Text Document DataResource and Content Records</description>
        <implements service="createDataResource" optional="false"/>
        <implements service="createContent" optional="false"/>
    </service>

    <service name="createContentFromDataResource" engine="simple"
             location="org/ofbiz/content/content/ContentServices.xml" invoke="createContentFromDataResource">
        <description>Creates content record from data resource and allows all content fields to be set</description>
        <implements service="createContent" optional="true"/>
        <attribute name="dataResourceId" type="String" mode="IN" optional="false"/>
        <attribute name="contentId" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="uploadFileToDataResource" engine="simple" transaction-timeout="300"
             location="org/ofbiz/content/content/ContentServices.xml" invoke="attachLocalFileToDataResource">
        <description>Accepts uploaded content and attaches to an existing data resource</description>
        <implements service="uploadFileInterface"/>
        <attribute name="dataResourceId" type="String" mode="INOUT" optional="false"/>         
    </service>

    <service name="createContentFromUploadedFile" engine="group" transaction-timeout="300">
        <description>Accepts file upload, creates DataResource and Content records.</description>
        <group>
            <invoke name="createDataResource" parameters="preserve" result-to-context="true"/>
            <invoke name="uploadFileToDataResource" parameters="preserve" result-to-context="true"/>
            <invoke name="createContentFromDataResource"/>
        </group>            
    </service>
    
    <service name="copyContentAndElectronicTextandAssoc" default-entity-name="Content" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml" invoke="copyContentAndElectronicTextandAssoc" transaction-timeout="72000" auth="true" >
        <description>Copy a Content, e;ectronic text and assocs</description>
        <auto-attributes include="pk" mode="INOUT" optional="false"/>
    </service>

    <!-- update content services -->
    <service name="updateContent" default-entity-name="Content" engine="java"
        location="org.ofbiz.content.content.ContentServices" invoke="updateContent" auth="true">
        <description>Update a Content</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeTypeId" optional="true" type="String"/>
        <attribute mode="IN" name="userLogin" optional="true" type="GenericValue"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
        <attribute mode="IN" name="displayFailCond" optional="true" type="Boolean"/>
        <attribute mode="INOUT" name="roleTypeList" optional="true" type="List"/>
    </service>

    <service name="updateTextContent" engine="route" transaction-timeout="300" auth="true">
        <description>Updates a Text Document DataResource and Content Records</description>
        <implements service="updateDataResource" optional="false"/>
        <implements service="updateContent" optional="false"/>
    </service>
    
    <service name="removeContent" default-entity-name="Content" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml" invoke="deleteContent" auth="true">
        <description>Remove Content</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeTypeId" optional="true" type="String"/>
        <attribute mode="IN" name="userLogin" optional="true" type="GenericValue"/>
        <attribute mode="INOUT" name="roleTypeList" optional="true" type="List"/>
    </service>
    <service name="checkContentPermission"
        transaction-timeout="72000" 
        auth="false" engine="java" invoke="checkContentPermission"
        location="org.ofbiz.content.content.ContentPermissionServices">
        <description>Check for permission to perform operation on Content</description>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <!-- it was a mistake to pass in List objects because it makes it difficult to use
             the service in a request event, so I added new ones without removing lists -->
        <attribute mode="IN" name="targetOperationString" optional="true" type="String"/>
        <attribute mode="IN" name="contentPurposeString" optional="true" type="String"/>
        <attribute mode="IN" name="roleTypeString" optional="true" type="String"/>
        <attribute mode="INOUT" name="roleTypeList" optional="true" type="List"/>
        <attribute mode="IN" name="currentContent" optional="true" type="GenericValue"/>
        <attribute mode="IN" name="fromDate" optional="true" type="String"/>
        <attribute mode="IN" name="thruDate" optional="true" type="String"/>
        <!-- NOTE: entityOperation should be "_VIEW", "_ADMIN", etc. -->
        <attribute mode="IN" name="entityOperation" optional="true" type="String"/>
        <attribute mode="IN" name="statusId" optional="true" type="String"/>
        <attribute mode="IN" name="privilegeEnumId" optional="true" type="String"/>
        <attribute mode="IN" name="quickCheckContentId" optional="true" type="String"/>
        <attribute mode="IN" name="displayFailCond" optional="true" type="Boolean"/>
        <attribute mode="IN" name="displayPassCond" optional="true" type="Boolean"/>
        <attribute mode="IN" name="partyId" optional="true" type="String"/>
        <attribute mode="IN" name="userLoginId" optional="true" type="String"/>
        <attribute mode="OUT" name="permissionStatus" optional="true" type="String"/>
        <attribute mode="OUT" name="permissionRecorder" optional="true" type="org.ofbiz.content.content.PermissionRecorder"/>
    </service>
    <service name="findRelatedContent" default-entity-name="Content" engine="java"
            location="org.ofbiz.content.content.ContentServices" invoke="findRelatedContent" auth="true">
        <description>Create a Content</description>
        <attribute mode="IN" name="currentContent" optional="false" type="GenericValue"/>
        <attribute mode="IN" name="toFrom" optional="true" type="String"/>
        <attribute mode="IN" name="fromDate" optional="true" type="String"/>
        <attribute mode="IN" name="thruDate" optional="true" type="String"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="userLogin" optional="true" type="GenericValue"/>
        <attribute mode="IN" name="contentAssocTypeList" optional="true" type="List"/>
        <attribute mode="IN" name="contentTypeList" optional="true" type="List"/>
        <attribute mode="IN" name="entityOperation" optional="true" type="String"/>
        <attribute mode="OUT" name="contentList" optional="false" type="List"/>
    </service>
    
    <!--Content Assoc services.-->
    <service name="checkAssocPermission"
        transaction-timeout="72000" 
        auth="true" engine="java" invoke="checkAssocPermission"
        location="org.ofbiz.content.content.ContentPermissionServices" >
        <description>Check for permission to perform operation on Content</description>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <attribute mode="INOUT" name="roleTypeList" optional="true" type="List"/>
        <attribute mode="IN" name="userLogin" optional="true"
                                     type="org.ofbiz.core.entity.GenericValue"/>
        <attribute mode="IN" name="contentIdTo" optional="true" type="String"/>
        <attribute mode="IN" name="contentIdFrom" optional="true" type="String"/>
        <attribute mode="IN" name="fromDate" optional="true" type="String"/>
        <attribute mode="IN" name="thruDate" optional="true" type="String"/>
        <attribute mode="IN" name="statusId" optional="true" type="String"/>
        <attribute mode="IN" name="privilegeEnumId" optional="true" type="String"/>
        <attribute mode="IN" name="entityOperation" optional="true" type="String"/>
        <attribute mode="IN" name="contentAssocTypeId" optional="true" type="String"/>
        <attribute mode="IN" name="contentAssocPredicateId" optional="true" type="String"/>
        <attribute mode="IN" name="displayFailCond" optional="true" type="Boolean"/>
        <attribute mode="OUT" name="permissionStatus" optional="true" type="String"/>
        <attribute mode="OUT" name="permissionRecorderTo" optional="true" type="org.ofbiz.content.content.PermissionRecorder"/>
        <attribute mode="OUT" name="permissionRecorder" optional="true" type="org.ofbiz.content.content.PermissionRecorder"/>
    </service>
    <service name="assocContent"
        default-entity-name="ContentAssoc"
        auth="true" engine="simple" invoke="assocContent"
            location="org/ofbiz/content/content/ContentServices.xml" >
        <description>Check for permission to perform operation on Content</description>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <attribute mode="INOUT" name="roleTypeList" optional="true" type="List"/>
        <attribute mode="IN" name="userLogin" optional="true" type="GenericValue"/>
        <attribute mode="IN" name="contentIdTo" optional="true" type="String"/>
        <attribute mode="IN" name="contentIdFrom" optional="true" type="String"/>
        <attribute mode="IN" name="statusId" optional="true" type="String"/>
        <attribute mode="IN" name="fromDate" optional="true" type="String"/>
        <attribute mode="IN" name="thruDate" optional="true" type="String"/>
        <attribute mode="IN" name="entityOperation" optional="true" type="String"/>
        <attribute mode="IN" name="contentAssocTypeId" optional="false" type="String"/>
    </service>

    <service name="createContentAssoc" default-entity-name="ContentAssoc" engine="java"
        transaction-timeout="72000" 
        location="org.ofbiz.content.content.ContentServices" invoke="createContentAssoc" auth="true">
        <description>Create a ContentAssoc</description>
        <auto-attributes include="pk" mode="INOUT" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="targetOperationString" optional="true" type="String"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeString" optional="true" type="String"/>
        <attribute mode="IN" name="deactivateExisting" optional="true" type="String"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
        <attribute mode="IN" name="displayFailCond" optional="true" type="Boolean"/>
        <attribute mode="INOUT" name="roleTypeList" optional="true" type="List"/>
        <attribute mode="INOUT" entity-name="ContentAssoc" name="contentIdFrom" optional="true" type="String"/>
    </service>
    <service name="updateContentAssoc" default-entity-name="ContentAssoc" engine="java"
        transaction-timeout="72000" 
            location="org.ofbiz.content.content.ContentServices" invoke="updateContentAssoc" auth="true">
        <description>Update a ContentAssoc</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
        <attribute mode="IN" name="deactivateExisting" optional="true" type="String"/>
        <attribute mode="IN" name="displayFailCond" optional="true" type="Boolean"/>
        <attribute mode="INOUT" name="roleTypeList" optional="true" type="List"/>
        <attribute mode="INOUT" entity-name="ContentAssoc" name="contentIdFrom" optional="true" type="String"/>
    </service>
    <service name="removeContentAssoc" default-entity-name="ContentAssoc" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml" invoke="removeContentAssoc" auth="true">
        <description>Remove ContentAssoc</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
        <attribute mode="INOUT" name="roleTypeList" optional="true" type="List"/>
        <attribute mode="INOUT" entity-name="ContentAssoc" name="contentIdFrom" optional="true" type="String"/>
    </service>
    <service name="setContentStatus" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml" invoke="setContentStatus" auth="true">
        <description>Set the Content Status</description>
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
        <attribute name="statusId" type="String" mode="IN" optional="false"/>
        <attribute name="oldStatusId" type="String" mode="OUT" optional="true"/>
    </service>

    <!--ContentRole services.-->
    <service name="createContentRole" engine="simple" invoke="createContentRole"
        location="org/ofbiz/content/content/ContentServices.xml"
        default-entity-name="ContentRole" auth="true">
        <description>Create a ContentRole</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <override name="fromDate" optional="true"/>
    </service>
    <service name="updateContentRole" engine="simple" invoke="updateContentRole"
        location="org/ofbiz/content/content/ContentServices.xml"
        default-entity-name="ContentRole" auth="true">
        <description>Update a ContentRole</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="deactivateAllContentRoles" engine="simple" invoke="deactivateAllContentRoles"
        location="org/ofbiz/content/content/ContentServices.xml"
        default-entity-name="ContentRole" auth="true">
        <description>Deactivate all ContentRoles</description>
        <attribute mode="IN" name="contentId" optional="false" type="String"/>
        <attribute mode="IN" name="roleTypeId" optional="false" type="String"/>
        <attribute mode="IN" name="partyId" optional="false" type="String"/>
    </service>
    <service name="removeContentRole" engine="simple" invoke="removeContentRole"
        location="org/ofbiz/content/content/ContentServices.xml"
        default-entity-name="ContentRole" auth="true">
        <description>Remove ContentRole</description>
        <auto-attributes entity-name="ContentRole" include="pk" mode="IN" optional="false"/>
    </service>

    <!--DataResource services.-->
    <service name="createDataResource" default-entity-name="DataResource" engine="java"
            location="org.ofbiz.content.data.DataServices" invoke="createDataResource" auth="true">
        <description>Create a DataResource</description>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute mode="INOUT" name="dataResourceId" optional="true" type="String"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
        <attribute mode="OUT" name="dataResource" optional="true" type="GenericValue"/>
    </service>
    <service name="updateDataResource" engine="java"
            location="org.ofbiz.content.data.DataServices"
            invoke="updateDataResource"
            default-entity-name="DataResource" auth="true" >
        <description>Update a DataResource</description>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute mode="IN" name="dataResourceId" optional="false" type="String"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
        <attribute mode="OUT" name="dataResource" optional="true" type="GenericValue"/>
    </service>
    <service name="removeDataResource" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="deleteDataResource"
        default-entity-name="DataResource" auth="true">
        <description>Remove DataResource</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
    </service>
    <service name="createDataResourceAndText" engine="java"
            location="org.ofbiz.content.data.DataServices"
            invoke="createDataResourceAndText"
            default-entity-name="DataResource" auth="true" >
        <description>Create a DataResource and, possibly, ElectronicText or ImageDataResource</description>
        <auto-attributes include="pk" mode="INOUT" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute mode="IN" name="textData" optional="true" type="String"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
    </service>
    <service name="updateDataResourceAndText" engine="java"
            location="org.ofbiz.content.data.DataServices"
            invoke="updateDataResourceAndText"
            default-entity-name="DataResource" auth="true" >
        <description>Create a DataResource and, possibly, ElectronicText or ImageDataResource</description>
        <auto-attributes include="pk" mode="IN" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute mode="IN" name="textData" optional="true" type="String"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
    </service>

    <!--DataCategory services.-->
    <service name="createDataCategory" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="createDataCategory"
        default-entity-name="DataCategory" auth="true">
        <description>Create a DataCategory</description>
        <auto-attributes include="pk" mode="INOUT" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateDataCategory" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="updateDataCategory"
        default-entity-name="DataCategory" auth="true">
        <description>Update a DataCategory</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeDataCategory" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="removeDataCategory"
        default-entity-name="DataCategory" auth="true">
        <description>Remove DataCategory</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!--ContentOperation services.-->
    <service name="createContentOperation" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="createContentOperation"
        default-entity-name="ContentOperation" auth="true">
        <description>Create a ContentOperation</description>
        <auto-attributes include="pk" mode="INOUT" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateContentOperation" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="updateContentOperation"
        default-entity-name="ContentOperation" auth="true">
        <description>Update a ContentOperation</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeContentOperation" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="removeContentOperation"
        default-entity-name="ContentOperation" auth="true">
        <description>Remove ContentOperation</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!--ContentPurpose services.-->
    <service name="createContentPurpose" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="createContentPurpose"
        default-entity-name="ContentPurpose" auth="true">
        <description>Create a ContentPurpose</description>
        <auto-attributes include="pk" mode="IN" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateContentPurpose" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="updateContentPurpose"
        default-entity-name="ContentPurpose" auth="true">
        <description>Update a ContentPurpose</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeContentPurpose" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="removeContentPurpose"
        default-entity-name="ContentPurpose" auth="true">
        <description>Remove ContentPurpose</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!--ContentPurposeOperation services.-->
    <service name="createContentPurposeOperation" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="createContentPurposeOperation"
        default-entity-name="ContentPurposeOperation" auth="true">
        <description>Create a ContentPurposeOperation</description>
        <auto-attributes include="pk" mode="IN" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateContentPurposeOperation" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="updateContentPurposeOperation"
        default-entity-name="ContentPurposeOperation" auth="true">
        <description>Update a ContentPurposeOperation</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeContentPurposeOperation" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="removeContentPurposeOperation"
        default-entity-name="ContentPurposeOperation" auth="true">
        <description>Remove ContentPurposeOperation</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!--ContentAttribute services.-->
    <service name="createContentAttribute" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="createContentAttribute"
        default-entity-name="ContentAttribute" auth="true">
        <description>Create a ContentAttribute</description>
        <auto-attributes include="pk" mode="IN" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateContentAttribute" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="updateContentAttribute"
        default-entity-name="ContentAttribute" auth="true">
        <description>Update a ContentAttribute</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeContentAttribute" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="removeContentAttribute"
        default-entity-name="ContentAttribute" auth="true">
        <description>Remove ContentAttribute</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!--ContentMetaData services.-->
    <service name="createContentMetaData" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="createContentMetaData"
        default-entity-name="ContentMetaData" auth="true">
        <description>Create a ContentMetaData</description>
        <auto-attributes include="pk" mode="IN" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateContentMetaData" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="updateContentMetaData"
        default-entity-name="ContentMetaData" auth="true">
        <description>Update a ContentMetaData</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeContentMetaData" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml"
        invoke="removeContentMetaData"
        default-entity-name="ContentMetaData" auth="true">
        <description>Remove ContentMetaData</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!--DataResourceAttribute services.-->
    <service name="createDataResourceAttribute" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="createDataResourceAttribute"
        default-entity-name="DataResourceAttribute" auth="true">
        <description>Create a DataResourceAttribute</description>
        <auto-attributes include="pk" mode="IN" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateDataResourceAttribute" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="updateDataResourceAttribute"
        default-entity-name="DataResourceAttribute" auth="true">
        <description>Update a DataResourceAttribute</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeDataResourceAttribute" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="removeDataResourceAttribute"
        default-entity-name="DataResourceAttribute" auth="true">
        <description>Remove DataResourceAttribute</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!--DataResourceRole services.-->
    <service name="createDataResourceRole" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="createDataResourceRole"
        default-entity-name="DataResourceRole" auth="true">
        <description>Create a DataResourceRole</description>
        <auto-attributes include="pk" mode="IN" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateDataResourceRole" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="updateDataResourceRole"
        default-entity-name="DataResourceRole" auth="true">
        <description>Update a DataResourceRole</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeDataResourceRole" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="removeDataResourceRole"
        default-entity-name="DataResourceRole" auth="true">
        <description>Remove DataResourceRole</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- ElectronicText services -->
    <service name="createElectronicText" default-entity-name="ElectronicText" engine="java"
        location="org.ofbiz.content.data.DataServices" invoke="createElectronicText" auth="true">
        <description>Create a ElectronicText</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
    </service>
    <service name="updateElectronicText" default-entity-name="ElectronicText" engine="java"
        location="org.ofbiz.content.data.DataServices" invoke="updateElectronicText" auth="true">
        <description>Update a ElectronicText</description>
        <auto-attributes include="pk" mode="INOUT" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute name="contentId" mode="INOUT" optional="true" type="String"/><!-- to optionaly know where this text is belonging to -->
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
    </service>
    <service name="removeElectronicText" default-entity-name="ElectronicText" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml" invoke="removeElectronicText" auth="true">
        <description>Remove ElectronicText</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <attribute mode="IN" name="skipPermissionCheck" optional="true" type="String"/>
    </service>
    <service name="getElectronicText" engine="simple"
            location="org/ofbiz/content/data/DataServices.xml" invoke="getElectronicText" default-entity-name="ElectronicText" auth="false" >
        <description>Get a ElectronicText: Can pass either content value object or contentId</description>
        <attribute mode="IN" name="contentId" optional="true" type="String"/>
        <attribute mode="IN" name="content" optional="true" type="GenericValue"/>
        <attribute mode="OUT" name="dataResourceId" optional="true" type="String"/>
        <attribute mode="OUT" name="textData" optional="false" type="String"/>
    </service>

    <!-- Generic Content Services -->
    <service name="createEmailContent" engine="simple" location="org/ofbiz/content/content/ContentServices.xml" invoke="createEmailContent">
        <auto-attributes mode="IN" entity-name="Content" optional="true"/>
        <attribute name="subject" type="String" mode="IN" optional="false"/>
        <attribute name="plainBody" type="String" mode="IN" optional="false"/>
        <attribute name="htmlBody" type="String" mode="IN" optional="true"/>
        <override name="contentId" mode="INOUT"/>
    </service>
    <service name="updateEmailContent" engine="simple" location="org/ofbiz/content/content/ContentServices.xml" invoke="updateEmailContent">
        <attribute name="subjectDataResourceId" type="String" mode="IN" optional="true"/>
        <attribute name="subject" type="String" mode="IN" optional="true"/>
        <attribute name="plainBodyDataResourceId" type="String" mode="IN" optional="true"/>
        <attribute name="plainBody" type="String" mode="IN" optional="true"/>
        <attribute name="htmlBodyDataResourceId" type="String" mode="IN" optional="true"/>
        <attribute name="htmlBody" type="String" mode="IN" optional="true"/>
    </service>

    <service name="createDownloadContent" engine="simple" location="org/ofbiz/content/content/ContentServices.xml" invoke="createDownloadContent">
        <auto-attributes mode="IN" entity-name="Content" optional="true"/>
        <attribute name="file" type="String" mode="IN" optional="false"/>
        <override name="contentId" mode="INOUT"/>
    </service>
    <service name="updateDownloadContent" engine="simple" location="org/ofbiz/content/content/ContentServices.xml" invoke="updateDownloadContent">
        <attribute name="fileDataResourceId" type="String" mode="IN" optional="true"/>
        <attribute name="file" type="String" mode="IN" optional="true"/>
    </service>

    <service name="createSimpleTextContent" engine="simple" location="org/ofbiz/content/content/ContentServices.xml" invoke="createSimpleTextContent">
        <auto-attributes mode="IN" entity-name="Content" optional="true"/>
        <attribute name="text" type="String" mode="IN" optional="false"/>
        <override name="contentId" mode="INOUT"/>
    </service>
    <service name="updateSimpleTextContent" engine="simple" location="org/ofbiz/content/content/ContentServices.xml" invoke="updateSimpleTextContent">
        <attribute name="textDataResourceId" type="String" mode="IN" optional="true"/>
        <attribute name="text" type="String" mode="IN" optional="true"/>
    </service>

    <!-- File services -->
    <service name="createFile" engine="java"
        location="org.ofbiz.content.data.DataServices" invoke="createFile" auth="true">
        <description>Create a File</description>
        <implements service="createDataResource"/>
        <attribute mode="IN" name="dataResource" optional="true" type="GenericValue"/>
        <attribute mode="IN" name="binData" optional="true" type="org.ofbiz.entity.util.ByteWrapper"/>
        <attribute mode="IN" name="textData" optional="true" type="String"/>
        <attribute mode="IN" name="rootDir" optional="true" type="String"/>
        <attribute mode="IN" name="dataResourceTypeId" optional="true" type="String"/>
        <attribute mode="IN" name="objectInfo" optional="true" type="String"/>
    </service>
    <service name="createAnonFile" engine="java"
        location="org.ofbiz.content.data.DataServices" invoke="createFileNoPerm" auth="false">
        <description>Create a File No Permission Required</description>
        <implements service="createFile"/>
    </service>
    <service name="updateFile" engine="java"
        location="org.ofbiz.content.data.DataServices" invoke="updateFile" auth="true">
        <description>Update a File</description>
        <attribute mode="IN" name="dataResource" optional="true" type="GenericValue"/>
        <attribute mode="IN" name="binData" optional="true" type="org.ofbiz.entity.util.ByteWrapper"/>
        <attribute mode="IN" name="textData" optional="true" type="String"/>
        <attribute mode="IN" name="rootDir" optional="true" type="String"/>
        <attribute mode="IN" name="dataResourceTypeId" optional="true" type="String"/>
        <attribute mode="IN" name="objectInfo" optional="true" type="String"/>
    </service>
    <service name="removeFile" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml" invoke="removeFile" auth="true">
        <description>Remove File</description>
        <attribute mode="IN" name="rootDir" optional="true" type="String"/>
    </service>

    <!-- OtherDataResource services -->
    <service name="createOtherDataResource" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="createOtherDataResource"
        default-entity-name="OtherDataResource" auth="true">
        <description>Create a OtherDataResource</description>
        <auto-attributes include="pk" mode="INOUT" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateOtherDataResource" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="updateOtherDataResource"
        default-entity-name="OtherDataResource" auth="true">
        <description>Update a OtherDataResource</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeOtherDataResource" engine="simple"
        location="org/ofbiz/content/data/DataServices.xml"
        invoke="removeOtherDataResource"
        default-entity-name="OtherDataResource" auth="true">
        <description>Remove OtherDataResource</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- Util -->
    <service name="findAssocContent" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml" invoke="findAssocContent" auth="true">
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
        <attribute name="mapKeys" type="List" mode="IN" optional="false"/>
        <attribute name="contentAssocs" type="List" mode="OUT" optional="true"/>
    </service>

    <!--Complex Contentservices.-->
    <service name="createContentAndAssoc" default-entity-name="Content" engine="simple"
        location="org/ofbiz/content/content/ContentServices.xml" invoke="createContentAndAssoc" auth="true">
        <description>Create a Content with a ContentAssoc</description>
        <auto-attributes entity-name="Content" include="all" mode="IN" optional="true">
            <exclude field-name="contentId"/>
            <exclude field-name="contentTypeId"/>
        </auto-attributes>

        <auto-attributes entity-name="ContentAssoc" include="all" mode="IN" optional="true">
            <exclude field-name="contentIdTo"/>
            <exclude field-name="contentId"/>
        </auto-attributes>
        <attribute mode="INOUT" entity-name="Content" name="contentId" optional="true" type="String"/>
        <attribute mode="INOUT" entity-name="ContentAssoc" name="contentIdTo" optional="true" type="String"/>
        <attribute mode="INOUT" entity-name="ContentAssoc" name="contentIdFrom" optional="true" type="String"/>
        <attribute mode="IN" name="contentTypeId" optional="false" type="String"/>
    </service>

    <service name="getAssocAndContentAndDataResourceCache" default-entity-name="ContentAssocDataResourceViewFrom"
        engine="java" location="org.ofbiz.content.content.ContentServicesComplex"
        invoke="getAssocAndContentAndDataResourceCache" auth="false">
        <description>Get a ContentAssocDataResourceView</description>
        <auto-attributes entity-name="ContentAssocDataResourceViewFrom" include="all"
            mode="OUT" optional="true">
            <exclude field-name="contentIdStart"/>
        </auto-attributes>
        <attribute mode="IN" name="assocTypes" optional="true" type="List"/>
        <attribute mode="IN" name="assocTypesString" optional="true" type="String"/>
        <attribute mode="IN" name="contentTypes" optional="true" type="List"/>
        <attribute mode="IN" name="contentTypesString" optional="true" type="String"/>
        <attribute mode="IN" name="mapKey" optional="true" type="String"/>
        <attribute mode="IN" name="contentId" optional="true" type="String"/>
        <attribute mode="IN" name="direction" optional="true" type="String"/>
        <attribute mode="IN" name="fromDateStr" optional="true" type="String"/>
        <attribute mode="IN" name="thruDateStr" optional="true" type="String"/>
        <attribute mode="IN" name="fromDate" optional="true" type="Timestamp"/>
        <attribute mode="IN" name="thruDate" optional="true" type="Timestamp"/>
        <attribute name="nullThruDatesOnly" type="Boolean" mode="IN" optional="true"/>
        <attribute mode="IN" name="contentAssocPredicateId" optional="true" type="String"/>
        <attribute mode="IN" name="contentIdFrom" optional="true" type="String"/>
        <attribute mode="OUT" name="entityList" optional="true" type="List"/>
        <attribute mode="OUT" name="view" optional="true" type="org.ofbiz.entity.GenericValue"/>
    </service>

    <service name="getAssocAndContentAndDataResource" default-entity-name="ContentAssocDataResourceViewFrom"
            engine="java" location="org.ofbiz.content.content.ContentServicesComplex" invoke="getAssocAndContentAndDataResource" auth="false">
        <description>Get a ContentAssocDataResourceView</description>
        <auto-attributes entity-name="ContentAssocDataResourceViewFrom" include="all" mode="OUT" optional="true">
            <exclude field-name="contentIdStart"/>
        </auto-attributes>
        <attribute mode="IN" name="assocTypes" optional="true" type="List"/>
        <attribute mode="IN" name="contentTypes" optional="true" type="List"/>
        <attribute mode="IN" name="mapKey" optional="true" type="String"/>
        <attribute mode="IN" name="contentId" optional="true" type="String"/>
        <attribute mode="IN" name="direction" optional="true" type="String"/>
        <attribute mode="IN" name="fromDateStr" optional="true" type="String"/>
        <attribute mode="IN" name="thruDateStr" optional="true" type="String"/>
        <attribute mode="IN" name="fromDate" optional="true" type="Timestamp"/>
        <attribute mode="IN" name="thruDate" optional="true" type="Timestamp"/>
        <attribute name="nullThruDatesOnly" type="Boolean" mode="IN" optional="true"/>
        <attribute mode="OUT" name="entityList" optional="true" type="List"/>
    </service>

    <service name="traverseContent" auth="false" engine="java" invoke="traverseContent"
        location="org.ofbiz.content.content.ContentServices">
        <description>Follow a content and return descendants</description>
        <attribute mode="IN" name="contentId" optional="false" type="String"/>
        <attribute mode="IN" name="fromDateStr" optional="true" type="String"/>
        <attribute mode="IN" name="thruDateStr" optional="true" type="String"/>
        <attribute mode="IN" name="followWhen" optional="true" type="String"/>
        <attribute mode="IN" name="pickWhen" optional="true" type="String"/>
        <attribute mode="IN" name="returnBeforePickWhen" optional="true" type="String"/>
        <attribute mode="IN" name="returnAfterPickWhen" optional="true" type="String"/>
        <attribute mode="IN" name="direction" optional="true" type="String"/>
        <attribute mode="OUT" name="pickList" optional="true" type="List"/>
        <attribute mode="OUT" name="nodeMap" optional="true" type="Map"/>
    </service>
    <service name="getContent" engine="java"
        location="org.ofbiz.content.ContentManagementServices" invoke="getContent" auth="false">
        <description>Get Content of passed contentId</description>
        <attribute mode="IN" name="contentId" optional="true" type="String"/>
        <attribute mode="OUT" name="view" optional="true" type="GenericValue"/>
    </service>
    <service name="getSubContent" engine="java" location="org.ofbiz.content.ContentManagementServices" invoke="getSubContent" auth="false">
        <description>Get subContent of passed contentId/mapKey or subContentId</description>
        <attribute mode="IN" name="mapKey" optional="true" type="String"/>
        <attribute mode="IN" name="contentId" optional="true" type="String"/>
        <attribute mode="IN" name="subContentId" optional="true" type="String"/>
        <attribute mode="IN" name="assocTypes" optional="true" type="List"/>
        <attribute mode="IN" name="assocTypesString" optional="true" type="String"/>
        <attribute mode="IN" name="contentTypes" optional="true" type="List"/>
        <attribute mode="IN" name="fromDate" optional="true" type="Timestamp"/>
        <attribute mode="OUT" name="view" optional="true" type="GenericValue"/>
        <attribute mode="OUT" name="content" optional="true" type="GenericValue"/>
    </service>
    <!--
    <service name="addMostRecent"
            engine="java"
            location="org.ofbiz.content.ContentManagementServices"
            invoke="addMostRecent" auth="false">
        <description>Get subContent of passed contentId/mapKey or subContentId</description>
        <attribute mode="IN" name="suffix" optional="true" type="String"/>
        <attribute mode="IN" name="pk" optional="true" type="GenericValue"/>
        <attribute mode="IN" name="session" optional="true" type="javax.servlet.http.HttpSession"/>
    </service>
    -->
    <service name="persistContentAndAssoc" engine="java" transaction-timeout="72000" 
            location="org.ofbiz.content.ContentManagementServices" invoke="persistContentAndAssoc" auth="true">
        <description>Create a Content, DataResource and/or ContentAssoc</description>
        <auto-attributes entity-name="ContentDataResourceView" include="all" mode="IN" optional="true">
            <exclude field-name="contentId"/>
        </auto-attributes>
        <auto-attributes entity-name="DataResource" include="all" mode="IN" optional="true">
            <exclude field-name="dataResourceId"/>
        </auto-attributes>
        <auto-attributes entity-name="ElectronicText" include="all" mode="IN" optional="true">
            <exclude field-name="dataResourceId"/>
        </auto-attributes>
        <auto-attributes entity-name="ContentAssoc" include="all" mode="IN" optional="true">
            <exclude field-name="contentIdTo"/>
            <exclude field-name="contentId"/>
            <exclude field-name="fromDate"/>
            <exclude field-name="contentAssocTypeId"/>
            <exclude field-name="sequenceNum"/>
        </auto-attributes>
        <auto-attributes entity-name="ContentAssocDataResourceViewFrom" include="all" mode="IN" optional="true">
        </auto-attributes>
        <attribute mode="INOUT" entity-name="Content" name="contentId" optional="true" type="String"/>
        <attribute mode="INOUT" entity-name="DataResource" name="dataResourceId" optional="true" type="String"/>
        <attribute mode="INOUT" entity-name="ContentAssoc" name="contentIdTo" optional="true" type="String"/>
        <attribute mode="INOUT" entity-name="ContentAssoc" name="contentIdFrom" optional="true" type="String"/>
        <attribute mode="INOUT" entity-name="ContentAssoc" name="contentAssocTypeId" optional="true" type="String"/>
        <attribute mode="INOUT" entity-name="ContentAssoc" name="fromDate" optional="true" type="Timestamp"/>
        <attribute mode="INOUT" entity-name="ContentAssoc" name="sequenceNum" optional="true" type="Long"/>

        <attribute mode="INOUT" entity-name="DataResource" name="drDataResourceId" optional="true" type="String"/>
        <attribute mode="INOUT" name="caContentIdTo" optional="true" type="String"/>
        <attribute mode="INOUT" name="caContentAssocTypeId" optional="true" type="String"/>
        <attribute mode="INOUT" name="caFromDate" optional="true" type="Timestamp"/>
        <attribute mode="INOUT" name="caSequenceNum" optional="true" type="Long"/>
        <attribute mode="IN" name="rootDir" optional="true" type="String"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <!-- it was a mistake to pass in List objects because it makes it difficult to use
             the service in a request event, so I added new ones without removing lists -->
        <attribute mode="IN" name="targetOperationString" optional="true" type="String"/>
        <attribute mode="IN" name="contentPurposeString" optional="true" type="String"/>
        <attribute mode="IN" name="userLogin" optional="true" type="GenericValue"/>
        <attribute mode="IN" name="imageData" optional="true" type="org.ofbiz.entity.util.ByteWrapper"/>
        <attribute mode="IN" name="_imageData_contentType" optional="true" type="String"/>
        <attribute mode="IN" name="_imageData_fileName" optional="true" type="String"/>
        <attribute mode="IN" name="deactivateExisting" optional="true" type="String"/>
        <attribute mode="IN" name="forceElectronicText" optional="true" type="String"/>
        <attribute mode="IN" name="displayFailCond" optional="true" type="Boolean"/>
        <attribute mode="INOUT" name="roleTypeList" optional="true" type="List"/>
    </service>
    
    <service name="persistDataResourceAndData" engine="java"
        transaction-timeout="72000" 
            location="org.ofbiz.content.ContentManagementServices" invoke="persistDataResourceAndData" auth="true">
        <description>Persist a  DataResource and data</description>
        <auto-attributes entity-name="DataResource" include="all" mode="IN" optional="true" >
            <exclude field-name="dataResourceId"/>
        </auto-attributes>
        <auto-attributes entity-name="ElectronicText" include="all" mode="IN" optional="true">
            <exclude field-name="dataResourceId"/>
        </auto-attributes>
        <attribute mode="INOUT" entity-name="Content" name="contentId" optional="true" type="String"/>
        <attribute mode="INOUT" entity-name="DataResource" name="dataResourceId" optional="true" type="String"/>

        <attribute mode="INOUT" entity-name="DataResource" name="drDataResourceId" optional="true" type="String"/>
        <attribute mode="IN" name="rootDir" optional="true" type="String"/>
        <attribute mode="IN" name="targetOperationList" optional="true" type="List"/>
        <attribute mode="IN" name="contentPurposeList" optional="true" type="List"/>
        <!-- it was a mistake to pass in List objects because it makes it difficult to use
             the service in a request event, so I added new ones without removing lists -->
        <attribute mode="IN" name="targetOperationString" optional="true" type="String"/>
        <attribute mode="IN" name="contentPurposeString" optional="true" type="String"/>
        <attribute mode="IN" name="userLogin" optional="true" type="GenericValue"/>
        <attribute mode="IN" name="imageData" optional="true" type="org.ofbiz.entity.util.ByteWrapper"/>
        <attribute mode="IN" name="_imageData_contentType" optional="true" type="String"/>
        <attribute mode="IN" name="_imageData_fileName" optional="true" type="String"/>
        <attribute mode="IN" name="forceElectronicText" optional="true" type="String"/>
        <attribute mode="IN" name="displayFailCond" optional="true" type="Boolean"/>
    </service>
    
    <service name="persistCompDocContent" engine="simple"
        transaction-timeout="72000" 
            location="org/ofbiz/content/compdoc/CompDocServices.xml" invoke="persistCompDocContent" auth="true">
        <description>Persist a CompDoc DataResource and data</description>
        <implements service="persistDataResourceAndData"/>
        <attribute name="contentRevisionSeqId" type="String" mode="OUT" optional="false"/>
        <attribute name="rootContentId" type="String" mode="IN" optional="true"/>
    </service>
    
    <service name="persistCompDocPdf2Survey" engine="simple"
        transaction-timeout="72000" 
            location="org/ofbiz/content/compdoc/CompDocServices.xml" invoke="persistCompDocPdf2Survey" auth="true">
        <description>Upload/save PDF, create Survey, populate Content</description>
        <implements service="persistCompDocContent"/>
        <attribute name="pdfName" type="String" mode="IN" optional="true"/>
    </service>
    
    <service name="persistContentWithRevision" engine="java"
        transaction-timeout="72000" 
            location="org.ofbiz.content.ContentManagementServices" invoke="persistContentWithRevision" auth="true">
        <implements service="persistContentAndAssoc"/>
        <attribute mode="IN" name="masterRevisionContentId" optional="false" type="String"/>
    </service>
    
    <service name="findContentParents" engine="java"
        transaction-timeout="72000" 
            location="org.ofbiz.content.ContentManagementServices" invoke="findContentParents" auth="true">
        <attribute mode="IN" name="contentId" optional="false" type="String"/>
        <attribute mode="IN" name="contentAssocTypeId" optional="false" type="String"/>
        <attribute mode="IN" name="direction" optional="true" type="String"/>
        <attribute mode="OUT" name="parentList" optional="true" type="List"/>
    </service>
    
    <service name="deactivateAssocs" engine="java"
            location="org.ofbiz.content.content.ContentServices" invoke="deactivateAssocs" auth="true">
        <description>Supply thruDate to all ContentAssoc that come "before" current one</description>
        <attribute mode="IN" name="contentIdTo" optional="false" type="String"/>
        <attribute mode="IN" name="mapKey" optional="true" type="String"/>
        <attribute mode="IN" name="activeContentId" optional="true" type="String"/>
        <attribute mode="IN" name="contentId" optional="true" type="String"/>
        <attribute mode="IN" name="contentAssocTypeId" optional="false" type="String"/>
        <attribute mode="IN" name="fromDate" optional="true" type="Timestamp"/>
        <attribute mode="OUT" name="deactivatedList" optional="false" type="List"/>
    </service>

    <service name="deactivateContentAssoc" engine="java"
        transaction-timeout="72000" 
            location="org.ofbiz.content.content.ContentServices" invoke="deactivateContentAssoc" auth="true">
        <description>Set thruDate to now for ContentAssoc entity</description>
        <attribute mode="IN" name="contentIdTo" optional="true" type="String"/>
        <attribute mode="IN" name="contentId" optional="true" type="String"/>
        <attribute mode="IN" name="contentAssocTypeId" optional="true" type="String"/>
        <attribute mode="IN" name="fromDate" optional="true" type="Timestamp"/>
    </service>

    <!-- SubContent Render Services -->
    <service name="renderSubContentAsText" engine="java"
            location="org.ofbiz.content.content.ContentServices" invoke="renderSubContentAsText" auth="false">
        <description>Get the subcontent and render</description>
        <attribute mode="IN" name="contentId" optional="true" type="String"/>
        <attribute mode="IN" name="mapKey" optional="true" type="String"/>
        <attribute mode="IN" name="outWriter" optional="false" type="java.io.Writer"/>
        <attribute mode="IN" name="subContentId" optional="true" type="String"/>
        <attribute mode="IN" name="templateContext" optional="false" type="Map"/>
        <attribute mode="IN" name="locale" optional="true" type="String"/>
        <attribute mode="IN" name="mimeTypeId" optional="true" type="String"/>
        <attribute mode="IN" name="fromDate" optional="true" type="Timestamp"/>
        <attribute mode="IN" name="subContentDataResourceView" optional="true" type="org.ofbiz.entity.GenericValue"/>
        <attribute mode="OUT" name="view" optional="true" type="GenericValue"/>
        <attribute mode="OUT" name="textData" optional="true" type="String"/>
    </service>
    <service name="renderContentAsText" engine="java"
            location="org.ofbiz.content.content.ContentServices" invoke="renderContentAsText" auth="false">
        <description>Get the subcontent and render</description>
        <attribute mode="IN" name="contentId" optional="true" type="String"/>
        <attribute mode="IN" name="outWriter" optional="false" type="java.io.Writer"/>
        <attribute mode="IN" name="templateContext" optional="true" type="Map"/>
        <attribute mode="IN" name="locale" optional="true" type="String"/>
        <attribute mode="IN" name="mimeTypeId" optional="true" type="String"/>
        <attribute mode="IN" name="subContentDataResourceView" optional="true" type="org.ofbiz.entity.GenericValue"/>
        <attribute mode="OUT" name="textData" optional="true" type="String"/>
    </service>
    <service name="renderDataResourceAsText" engine="java"
            location="org.ofbiz.content.data.DataServices" invoke="renderDataResourceAsText" auth="false">
        <description>Get the dataResource and render</description>
        <attribute mode="IN" name="dataResourceId" optional="false" type="String"/>
        <attribute mode="IN" name="outWriter" optional="false" type="java.io.Writer"/>
        <attribute mode="IN" name="templateContext" optional="false" type="Map"/>
        <attribute mode="IN" name="locale" optional="true" type="String"/>
        <attribute mode="IN" name="mimeTypeId" optional="true" type="String"/>
        <attribute mode="IN" name="subContentDataResourceView" optional="true" type="org.ofbiz.entity.GenericValue"/>
        <attribute mode="OUT" name="textData" optional="true" type="String"/>
    </service>
    <service name="createTopic"
        auth="true" engine="simple" invoke="createTopic"
        location="org/ofbiz/content/content/ContentServices.xml" >
        <description>Create a TOPIC type Content </description>
        <attribute mode="IN" name="newTopicId" optional="false" type="String"/>
        <attribute mode="IN" name="newTopicDescription" optional="true" type="String"/>
    </service>

  <service name="updateSiteRoles" auth="true" engine="java" 
    location="org.ofbiz.content.ContentManagementServices" invoke="updateSiteRoles">
    <description>Update site roles</description>
    <attribute mode="IN" name="partyId" optional="true" type="String"/>
    <attribute mode="IN" name="contentId" optional="true" type="String"/>
    <attribute mode="IN" name="blogUser" optional="true" type="String"/>
    <attribute mode="IN" name="blogAuthor" optional="true" type="String"/>
    <attribute mode="IN" name="blogEditor" optional="true" type="String"/>
    <attribute mode="IN" name="blogAdmin" optional="true" type="String"/>
    <attribute mode="IN" name="blogPublisher" optional="true" type="String"/>
    <attribute mode="IN" name="blogUserFromDate" optional="true" type="Timestamp"/>
    <attribute mode="IN" name="blogAuthorFromDate" optional="true" type="Timestamp"/>
    <attribute mode="IN" name="blogEditorFromDate" optional="true" type="Timestamp"/>
    <attribute mode="IN" name="blogAdminFromDate" optional="true" type="Timestamp"/>
    <attribute mode="IN" name="blogPublisherFromDate" optional="true" type="Timestamp"/>
  </service>

  <service name="linkContentToPubPt" engine="java" 
    location="org.ofbiz.content.content.ContentServices" invoke="linkContentToPubPt" auth="true" >
    <description>Attach content to publish point</description>
    <attribute mode="IN" name="contentId" optional="false" type="String"/>
    <attribute mode="IN" name="contentIdTo" optional="false" type="String"/>
    <attribute mode="IN" name="publish" optional="true" type="String"/>
    <attribute mode="IN" name="statusId" optional="true" type="String"/>
    <attribute mode="IN" name="privilegeEnumId" optional="true" type="String"/>
    <attribute mode="IN" name="contentAssocTypeId" optional="true" type="String"/>
    <attribute mode="IN" name="mapKey" optional="true" type="String"/>
  </service>

  <service name="updateSiteRolesDyn" auth="true" engine="java" validate="false"
    location="org.ofbiz.content.ContentManagementServices" invoke="updateSiteRolesDyn">
    <description>Update site roles</description>
    <attribute mode="IN" name="partyId" optional="true" type="String"/>
    <attribute mode="IN" name="contentId" optional="true" type="String"/>
  </service>

    <service name="updateOrRemove" engine="java"
        location="org.ofbiz.content.ContentManagementServices" invoke="updateOrRemove" auth="true" validate="false">
        <description>Update or remove a child entity based on value of "action"</description>
        <attribute name="entityName" type="String" mode="IN" optional="false"/>
        <attribute name="action" type="String" mode="IN" optional="true"/>
        <attribute name="pkFieldCount" type="String" mode="IN" optional="false"/>
        <attribute name="fieldName0" type="String" mode="IN" optional="true"/>
        <attribute name="fieldValue1" type="String" mode="IN" optional="true"/>
        <attribute name="fieldName2" type="String" mode="IN" optional="true"/>
        <attribute name="fieldValue2" type="String" mode="IN" optional="true"/>
        <attribute name="fieldName3" type="String" mode="IN" optional="true"/>
        <attribute name="fieldValue3" type="String" mode="IN" optional="true"/>
        <attribute name="fieldName1" type="String" mode="IN" optional="true"/>
        <attribute name="fieldValue0" type="String" mode="IN" optional="true"/>
    </service>

    <service name="indexTree" auth="true" engine="java" validate="true" transaction-timeout="72000" 
        location="org.ofbiz.content.search.SearchServices" invoke="indexTree">
        <description>Index content under publish point</description>
        <attribute mode="IN" name="contentId" optional="false" type="String"/>
        <attribute mode="OUT" name="badIndexList" optional="true" type="List"/>
        <attribute mode="OUT" name="goodIndexCount" optional="true" type="Integer"/>
    </service>
    <service name="resequence" auth="true" engine="java" validate="true" transaction-timeout="72000" 
        location="org.ofbiz.content.ContentManagementServices" invoke="resequence">
        <description>Reorder sequence numbers in ContentAssoc entities for a given parent id</description>
        <attribute mode="IN" name="contentIdTo" optional="false" type="String"/>
        <attribute mode="IN" name="seqInc" optional="true" type="Integer"/>
        <attribute mode="IN" name="typeList" optional="true" type="List"/>
        <attribute mode="IN" name="contentId" optional="true" type="String"/>
        <attribute mode="IN" name="contentAssocTypeId" optional="true" type="String"/>
        <attribute mode="IN" name="dir" optional="true" type="String"/>
    </service>
    <service name="changeLeafToNode" validate="true" auth="true" engine="java" transaction-timeout="72000" 
        location="org.ofbiz.content.ContentManagementServices" invoke="changeLeafToNode">
        <description>Moves dataResource to separate content associated with current content so that node can have only children, no content of its own</description>
        <attribute mode="IN" name="contentId" optional="false" type="String"/>
        <attribute mode="IN" name="userLogin" optional="true" type="GenericValue"/>
    </service>
    
  <service name="updatePageType" auth="true" engine="java" validate="true"
        transaction-timeout="72000" 
        location="org.ofbiz.content.ContentManagementServices" invoke="updatePageType">
    <description>Change contentTypeId to OUTLINE/PAGE/SUBPAGE_NODE</description>
    <attribute mode="IN" name="contentId" optional="false" type="String"/>
    <attribute mode="IN" name="pageMode" optional="true" type="String"/>
  </service>

  <service name="resetToOutlineMode" auth="true" engine="java" validate="true"
        transaction-timeout="72000" 
        location="org.ofbiz.content.ContentManagementServices" invoke="resetToOutlineMode">
    <description>Set content and kids to OUTLINE_NODE</description>
    <attribute mode="IN" name="contentId" optional="false" type="String"/>
    <attribute mode="IN" name="pageMode" optional="true" type="String"/>
  </service>

  <service name="clearContentAssocViewCache" auth="true" engine="java" validate="true"
        transaction-timeout="72000" 
        location="org.ofbiz.content.ContentManagementServices" invoke="clearContentAssocViewCache">
    <description>Clear cache</description>
  </service>

  <service name="clearContentAssocDataResourceViewCache" auth="true" engine="java" validate="true"
        transaction-timeout="72000" 
        location="org.ofbiz.content.ContentManagementServices" invoke="clearContentAssocDataResourceViewCache">
    <description>Clear cache</description>
  </service>


  <service name="findSubNodes" auth="false" engine="java" validate="true"
        transaction-timeout="72000" 
        location="org.ofbiz.content.ContentManagementServices" invoke="findSubNodes">
    <description>Get children of content</description>
    <attribute mode="IN" name="contentId" optional="false" type="String"/>
    <attribute mode="OUT" name="_LIST_" optional="true" type="List"/>
  </service>

    <service name="initContentChildCounts" engine="java"
            location="org.ofbiz.content.ContentManagementServices" invoke="initContentChildCounts">
        <description>Set childLeafCount and childBranchCount to appropriate values</description>
        <attribute name="content" type="org.ofbiz.entity.GenericValue" mode="IN" optional="false"/>
    </service>

    <service name="incrementContentChildStats" engine="java"
            location="org.ofbiz.content.ContentManagementServices" invoke="incrementContentChildStats">
        <description>Set childLeafCount and childBranchCount in parent Content entities</description>
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
        <attribute name="contentAssocTypeId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="decrementContentChildStats" engine="java"
            location="org.ofbiz.content.ContentManagementServices" invoke="decrementContentChildStats">
        <description>Set childLeafCount and childBranchCount in parent Content entities</description>
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
        <attribute name="contentAssocTypeId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="updateContentChildStats" engine="java"
        transaction-timeout="72000" 
            location="org.ofbiz.content.ContentManagementServices" invoke="updateContentChildStats">
        <description>Set childLeafCount and childBranchCount in passed id and those below</description>
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
        <attribute name="contentAssocTypeId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="updateImage" engine="java"
        transaction-timeout="72000" 
            location="org.ofbiz.content.data.DataServices" invoke="updateImage">
        <description>Update image</description>
        <attribute name="dataResourceId" type="String" mode="IN" optional="false"/>
        <attribute name="imageData" type="org.ofbiz.entity.util.ByteWrapper" mode="IN" optional="false"/>
    </service>

    <service name="createImage" engine="java"
        transaction-timeout="72000" 
            location="org.ofbiz.content.data.DataServices" invoke="createImage">
        <description>Create image</description>
        <attribute name="dataResourceId" type="String" mode="IN" optional="false"/>
        <attribute name="imageData" type="org.ofbiz.entity.util.ByteWrapper" mode="IN" optional="false"/>
    </service>
    <service name="updateContentSubscription" engine="java" transaction-timeout="72000" auth="true"
        location="org.ofbiz.content.ContentManagementServices" invoke="updateContentSubscription">
        <description>Creates or updates ContentRole</description>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="contentId" type="String" mode="IN" optional="true"/>
        <attribute name="useRoleTypeId" type="String" mode="IN" optional="true"/>
        <attribute name="useTimeUomId" type="String" mode="IN" optional="false"/>
        <attribute name="useTime" type="Integer" mode="IN" optional="false"/>
    </service>
    <service name="updateContentSubscriptionByProduct" engine="java" transaction-timeout="72000" auth="true"
        location="org.ofbiz.content.ContentManagementServices" invoke="updateContentSubscriptionByProduct">
        <description>Creates or updates ContentRole</description>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="productId" type="String" mode="IN" optional="false"/>
        <attribute name="orderCreatedDate" type="Timestamp" mode="IN" optional="true" />
        <attribute name="quantity" type="Integer" mode="IN" optional="false"/>
    </service>
    <service name="updateContentSubscriptionByOrder" engine="java" transaction-timeout="72000" auth="true"
        location="org.ofbiz.content.ContentManagementServices" invoke="updateContentSubscriptionByOrder">
        <description>Creates or updates ContentRole</description>
        <attribute name="orderId" type="String" mode="IN" optional="false"/>
    </service>
    <service name="followNodeChildren" auth="true" engine="java" transaction-timeout="72000" 
        location="org.ofbiz.content.ContentManagementServices" invoke="followNodeChildren">
        <description>Descend thru content tree and execute service at each node</description>
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
        <attribute name="serviceName" type="String" mode="IN" optional="false"/>
        <attribute name="contentAssocTypeId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="publishContent" auth="true" engine="java" transaction-timeout="72000" 
        location="org.ofbiz.content.content.ContentServices" invoke="publishContent">
        <description>Change statusId to published (BLOG_PUBLISHED)</description>
        <attribute mode="IN" name="content" optional="false" type="GenericValue"/>
    </service>
    <!-- these three services are for use in screen widget files -->
    <service name="getPrefixedMembers" auth="false" engine="java" transaction-timeout="72000" 
        location="org.ofbiz.content.content.ContentServices" invoke="getPrefixedMembers">
        <description>Gets all the members of the input map that start with the prefix</description>
        <attribute mode="IN" name="mapIn" optional="true" type="java.util.Map"/>
        <attribute name="prefix" type="String" mode="IN" optional="false"/>
        <attribute mode="OUT" name="mapOut" optional="true" type="java.util.Map"/>
    </service>
    <service name="splitString" auth="false" engine="java" transaction-timeout="72000" 
        location="org.ofbiz.content.content.ContentServices" invoke="splitString">
        <description>Splits input string </description>
        <attribute name="inputString" type="String" mode="IN" optional="true"/>
        <attribute name="delimiter" type="String" mode="IN" optional="true"/>
        <attribute mode="OUT" name="outputList" optional="true" type="java.util.List"/>
    </service>
    <service name="joinString" auth="false" engine="java" transaction-timeout="72000" 
        location="org.ofbiz.content.content.ContentServices" invoke="joinString">
        <description>Splits input string </description>
        <attribute name="inputList" type="java.util.List" mode="IN" optional="false"/>
        <attribute name="delimiter" type="String" mode="IN" optional="true"/>
        <attribute mode="OUT" name="outputString" optional="true" type="String"/>
    </service>
    <service name="urlEncodeArgs" auth="false" engine="java" transaction-timeout="72000" 
        location="org.ofbiz.content.content.ContentServices" invoke="urlEncodeArgs">
        <description>URL encodes map</description>
        <attribute name="mapIn" type="java.util.Map" mode="IN" optional="false"/>
        <attribute mode="OUT" name="outputString" optional="true" type="String"/>
    </service>

    <!-- Content Revision services -->
    <service name="createContentRevision" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="createContentRevision"
        default-entity-name="ContentRevision" auth="true">
        <description>Create a ContentRevision</description>
        <auto-attributes include="pk" mode="IN" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateContentRevision" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="updateContentRevision"
        default-entity-name="ContentRevision" auth="true">
        <description>Update a ContentRevision</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeContentRevision" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="removeContentRevision"
        default-entity-name="ContentRevision" auth="true">
        <description>Remove ContentRevision</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- Content Revision Item services -->
    <service name="createContentRevisionItem" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="createContentRevisionItem"
        default-entity-name="ContentRevisionItem" auth="true">
        <description>Create a ContentRevisionItem</description>
        <auto-attributes include="pk" mode="IN" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateContentRevisionItem" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="updateContentRevisionItem"
        default-entity-name="ContentRevisionItem" auth="true">
        <description>Update a ContentRevisionItem</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeContentRevisionItem" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="removeContentRevisionItem"
        default-entity-name="ContentRevisionItem" auth="true">
        <description>Remove ContentRevisionItem</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- Content Approval services -->
    <service name="createContentApproval" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="createContentApproval"
        default-entity-name="ContentApproval" auth="true">
        <description>Create a ContentApproval</description>
        <auto-attributes include="pk" mode="INOUT" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateContentApproval" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="updateContentApproval"
        default-entity-name="ContentApproval" auth="true">
        <description>Update a ContentApproval</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeContentApproval" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="removeContentApproval"
        default-entity-name="ContentApproval" auth="true">
        <description>Remove ContentApproval</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- ================ CompDoc Requests ================= -->
    <service name="persistContentRevisionAndItem" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="persistContentRevisionAndItem" auth="true">
        <description>Update a ContentRevision and ContentRevisionItem</description>
        <auto-attributes entity-name="ContentRevision" include="all" mode="IN" optional="true">
            <exclude field-name="contentRevisionSeqId"/>
        </auto-attributes>
        <auto-attributes entity-name="ContentRevisionItem" include="all" mode="IN" optional="true">
            <exclude field-name="contentRevisionSeqId"/>
        </auto-attributes>
        <attribute name="contentRevisionSeqId" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="prepForApproval" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="prepForApproval" auth="true">
        <description>Set ContentApprovals for approval process</description>
        <attribute name="rootContentId" type="String" mode="IN" optional="false"/>
        <attribute name="rootContentRevisionSeqId" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="getFinalApprovalStatus" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="getFinalApprovalStatus" auth="true">
        <description>Set ContentApprovals for approval process</description>
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
        <attribute name="contentRevisionSeqId" type="String" mode="INOUT" optional="true"/>
        <attribute name="approvalStatusId" type="String" mode="OUT" optional="true"/>
        <attribute name="contentApprovalList" type="List" mode="OUT" optional="true"/>
    </service>

    <service name="getApprovalsWithPermissions" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="getApprovalsWithPermissions" auth="true" >
        <description>Get a list of ContentApprovals and permission indicators</description>
        <attribute name="rootContentId" type="String" mode="IN" optional="false"/>
        <attribute name="contentRevisionSeqId" type="String" mode="IN" optional="false"/>
        <attribute name="userLogin" type="org.ofbiz.entity.GenericValue" mode="IN" optional="false"/>
        <attribute name="checkPermission" type="String" mode="IN" optional="true"/>
        <attribute name="contentApprovalList" type="List" mode="OUT" optional="true"/>
    </service>

    <service name="hasApprovalPermission" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="hasApprovalPermission" auth="true">
        <description>Determine permission status for record</description>
        <attribute name="contentApprovalId" type="String" mode="IN" optional="false"/>
        <attribute name="userLogin" type="org.ofbiz.entity.GenericValue" mode="IN" optional="false"/>
        <attribute name="approvalPermExists" type="String" mode="OUT" optional="true"/>
    </service>

    <service name="genCompDocInstance" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="genCompDocInstance" auth="true">
        <description>Generate parallel CompDoc Instance tree</description>
        <attribute name="contentName" type="String" mode="IN" optional="true"/>
        <attribute name="instanceOfContentId" type="String" mode="IN" optional="true"/>
        <attribute name="rootInstanceContentId" type="String" mode="IN" optional="true"/>
        <attribute name="contentId" type="String" mode="OUT" optional="true"/>
        <attribute name="contentRevisionSeqId" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="persistCompDoc" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="persistCompDoc" auth="true">
        <description>Create a CompDoc Template entity and associated ContentRevision/Item entities</description>
        <implements service="persistContentAndAssoc"/>
        <attribute name="contentRevisionSeqId" type="String" mode="OUT" optional="false"/>
        <attribute name="rootContentId" type="String" mode="IN" optional="true"/>
    </service>
    
    <service name="cloneTemplateContentApprovals" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="cloneTemplateContentApprovals" auth="true">
        <description>Bump the previous ContentApproval approvals up to current CDT</description>
        <attribute name="contentRevisionSeqId" type="String" mode="IN" optional="false"/>
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
    </service>
    
    <service name="cloneInstanceContentApprovals" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="cloneInstanceContentApprovals" auth="true">
        <description>Bump the previous ContentApproval approvals up to current CDI</description>
        <attribute name="contentRevisionSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
    </service>
    
    <service name="checkForWaitingApprovals" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="checkForWaitingApprovals" auth="true">
        <description>Check to see if there are any ContentApproval records awaiting this user's action</description>
        <attribute name="thisUserLogin" type="org.ofbiz.entity.GenericValue" mode="IN" optional="true"/>
        <attribute name="contentApprovalList" type="List" mode="OUT" optional="true"/>
    </service>

    <service name="getMostRecentRevision" engine="simple"
        location="org/ofbiz/content/compdoc/CompDocServices.xml"
        invoke="getMostRecentRevision" auth="true">
        <description>Look for most recent revision for contentId</description>
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
        <attribute name="mostRecentRevisionSeqId" type="String" mode="OUT" optional="true"/>
    </service>

    <!-- Open Office Services -->
    <service name="convertDocumentByteWrapper" auth="false" engine="java" transaction-timeout="72000" 
        location="org.ofbiz.content.openoffice.OpenOfficeServices" invoke="convertDocumentByteWrapper">
        <description>Use OpenOffice to convert between document types</description>
        <attribute name="oooHost" type="String" mode="IN" optional="true"/>
        <attribute name="oooPort" type="String" mode="IN" optional="true"/>
        <attribute name="inputMimeType" type="String" mode="IN" optional="true"/>
        <attribute name="outputMimeType" type="String" mode="IN" optional="true"/>
        <attribute name="inByteWrapper" type="org.ofbiz.entity.util.ByteWrapper" mode="IN" optional="false"/>
        <attribute name="outByteWrapper" type="org.ofbiz.entity.util.ByteWrapper" mode="OUT" optional="false"/>
    </service>
    <service name="convertDocument" auth="false" engine="java" transaction-timeout="72000" 
        location="org.ofbiz.content.openoffice.OpenOfficeServices" invoke="convertDocument">
        <description>Use OpenOffice to convert between document types</description>
        <attribute name="oooHost" type="String" mode="IN" optional="true"/>
        <attribute name="oooPort" type="String" mode="IN" optional="true"/>
        <attribute name="filenameFrom" type="String" mode="IN" optional="false"/>
        <attribute name="filenameTo" type="String" mode="IN" optional="false"/>
        <attribute name="convertFilterName" type="String" mode="IN" optional="true"/>
    </service>
    <service name="convertDocumentFileToFile" auth="false" engine="java" transaction-timeout="72000" 
        location="org.ofbiz.content.openoffice.OpenOfficeServices" invoke="convertDocumentFileToFile">
        <description>Use OpenOffice to convert between document types</description>
        <attribute name="oooHost" type="String" mode="IN" optional="true"/>
        <attribute name="oooPort" type="String" mode="IN" optional="true"/>
        <attribute name="filenameFrom" type="String" mode="IN" optional="false"/>
        <attribute name="filenameTo" type="String" mode="IN" optional="false"/>
        <attribute name="inputMimeType" type="String" mode="IN" optional="true"/>
        <attribute name="outputMimeType" type="String" mode="IN" optional="true"/>
    </service>
    <service name="compareDocuments" auth="false" engine="java" transaction-timeout="72000" 
        location="org.ofbiz.content.openoffice.OpenOfficeServices" invoke="compareDocuments">
        <description>Use OpenOffice to compare two documents</description>
        <attribute name="oooHost" type="String" mode="IN" optional="true"/>
        <attribute name="oooPort" type="String" mode="IN" optional="true"/>
        <attribute name="filenameFrom" type="String" mode="IN" optional="false"/>
        <attribute name="filenameOriginal" type="String" mode="IN" optional="false"/>
        <attribute name="filenameOut" type="String" mode="IN" optional="false"/>
    </service>

    <!-- CompDoc Rendering Services  -->
    <service name="renderCompDocPdf" engine="java"
        location="org.ofbiz.content.compdoc.CompDocServices"
        invoke="renderCompDocPdf" auth="true">
        <description>Convert all the CompDoc parts into PDF and concatenate and put in CMS</description>
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
        <attribute name="contentRevisionSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="webSiteId" type="String" mode="IN" optional="true"/>
        <attribute name="https" type="String" mode="IN" optional="true"/>
        <attribute name="rootDir" type="String" mode="IN" optional="true"/>
        <attribute name="locale" type="java.util.Locale" mode="IN" optional="true"/>
        <attribute name="outByteWrapper" type="org.ofbiz.entity.util.ByteWrapper" mode="OUT" optional="false"/>
    </service>
    <service name="renderContentPdf" engine="java"
        location="org.ofbiz.content.compdoc.CompDocServices"
        invoke="renderContentPdf" auth="true">
        <description>Convert all the CompDoc parts into PDF and concatenate and put in CMS</description>
        <attribute name="contentId" type="String" mode="IN" optional="false"/>
        <attribute name="contentRevisionSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="webSiteId" type="String" mode="IN" optional="true"/>
        <attribute name="https" type="String" mode="IN" optional="true"/>
        <attribute name="rootDir" type="String" mode="IN" optional="true"/>
        <attribute name="locale" type="java.util.Locale" mode="IN" optional="true"/>
        <attribute name="outByteWrapper" type="org.ofbiz.entity.util.ByteWrapper" mode="OUT" optional="false"/>
    </service>
</services>
